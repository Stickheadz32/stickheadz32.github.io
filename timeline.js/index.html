<!DOCTYPE html>
<html lang="sv">
<head>
	<title>Timeline.js</title>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
	<link rel="stylesheet" type="text/css" href="timeline.js.css"/>
</head>
<body>
<header>
	<ul>
		<li>test
		</li><li>test
		</li><li>test
	</li></ul>
</header>
<div id="dimension">
</div>
<div id="timeline-content">
	
</div>
<script><!--
function byId(a){return document.getElementById(a);}
var file = new XMLHttpRequest(),
	url="example.txt";
file.onreadystatechange=function(){
	if(file.readyState==4&&file.status==200){
		var input=file.responseText,
			line=0,
			start=0,
			end=0,
			format="",
			visual={},
			out="";
		visual.title="";
		visual.sequences = [];
		visual.dimension = {
			name:"",
			format:"",
			scale:0
		};
		visual.zoom = 1;
		function empty(a){
			if(a)
			return a.length==0?true:false;
		}
		function isSequence(a){
			if(a){
				var b = a.length,t="0123456789.,",c=t.length,i,j,o;
				for(i=0;i<b;i++){
					o=false;
					for(j=0;j<c;j++){
						if(a[i]!==t[j]){
						}else{
							o=true;
							continue;
						}
					}
					if(!o)return o;
				}
				return o;
			}
		}
		input=input.split("\r\n")||input.split("\n");
		while(line<input.length){
			if(!empty(input[line])){
				var _type="",scale=2;
				//check for white-space
				while(input[line][0]==" "){
					input[line]=input[line].substring(1);
				}
				//check if previous line exists and only has numbers
				//-1 sequence, 0 description, 1 empty
				if(isSequence(input[line-1])){
					out+="<p>"+input[line]+"</p></div>";
				}
				//-1 empty/undefined, 0 sequence, 1 description
				else if(isSequence(input[line])){
					if(input[line].indexOf(",")&&input[line].split(",").length>1){
						var time = input[line].split(","),
						sQstart=parseFloat(time[0]),
						sQend=parseFloat(time[1]);
						_type="layer";

					}
					else{
						_type="marker";
						start=parseFloat(time[0]);
					}

					out+="<div class=\"tL-"+_type+"\" style=\"left:"+(scale*sQstart)+"%;";
					if(_type=="layer")out+="width:"+(scale*sQend)+"%;";
					out+="\">";
				}
				line++;
				continue;
			}else{
				if(input[line].length>0&&input[line][0]=="#"){
					if(input[line].length>1&&input[line][1]=="#"){
						if(input[line].length>2&&input[line][2]=="#"){

						}
					}
				}
				if(!isSequence(input[line+1])){
					continue;
				}
			}
		}
		byId("timeline-content").innerHTML=out;
	}
}
file.open("GET",url,true);
file.send();
--></script>
</body>
</html>